{"ast":null,"code":"var _jsxFileName = \"/Users/937bb/Documents/userProject/AutoPickup/admin-panel/src/components/ProductModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport toast from 'react-hot-toast';\nimport { productAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  name: yup.string().required('请输入商品名称'),\n  description: yup.string().required('请输入商品描述'),\n  category: yup.string().required('请选择商品分类'),\n  price: yup.number().positive('价格必须大于0').required('请输入价格'),\n  stock: yup.number().integer('库存必须是整数').min(0, '库存不能小于0').required('请输入库存'),\n  deliveryType: yup.string().oneOf(['link', 'text', 'file', 'account']).required('请选择发货类型'),\n  deliveryTemplate: yup.string().required('请输入发货模板'),\n  tags: yup.array().of(yup.string())\n});\nconst ProductModal = ({\n  product,\n  onClose,\n  onSave\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [tags, setTags] = useState([]);\n  const [tagInput, setTagInput] = useState('');\n  const categories = ['影视资源', '教育资源', '软件工具', '游戏资源', '音乐资源', '其他'];\n  const deliveryTypes = [{\n    value: 'link',\n    label: '网盘链接'\n  }, {\n    value: 'text',\n    label: '文本内容'\n  }, {\n    value: 'file',\n    label: '文件下载'\n  }, {\n    value: 'account',\n    label: '账号密码'\n  }];\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    reset,\n    watch\n  } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: {\n      name: '',\n      description: '',\n      category: '',\n      price: 0,\n      stock: 0,\n      deliveryType: 'link',\n      deliveryTemplate: ''\n    }\n  });\n  const deliveryType = watch('deliveryType');\n  useEffect(() => {\n    if (product) {\n      reset({\n        name: product.name,\n        description: product.description,\n        category: product.category,\n        price: product.price,\n        stock: product.stock,\n        deliveryType: product.deliveryType,\n        deliveryTemplate: product.deliveryTemplate\n      });\n      setTags(product.tags || []);\n    } else {\n      reset({\n        name: '',\n        description: '',\n        category: '',\n        price: 0,\n        stock: 0,\n        deliveryType: 'link',\n        deliveryTemplate: ''\n      });\n      setTags([]);\n    }\n  }, [product, reset]);\n  const handleAddTag = () => {\n    if (tagInput.trim() && !tags.includes(tagInput.trim())) {\n      setTags([...tags, tagInput.trim()]);\n      setTagInput('');\n    }\n  };\n  const handleRemoveTag = tagToRemove => {\n    setTags(tags.filter(tag => tag !== tagToRemove));\n  };\n  const onSubmit = async data => {\n    setLoading(true);\n    try {\n      const formData = {\n        ...data,\n        tags\n      };\n      let response;\n      if (product) {\n        response = await productAPI.updateProduct(product._id, formData);\n      } else {\n        response = await productAPI.createProduct(formData);\n      }\n      if (response.success) {\n        toast.success(product ? '商品更新成功' : '商品创建成功');\n        onSave();\n      } else {\n        toast.error(response.message || '操作失败');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || '操作失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getDeliveryTemplate = type => {\n    switch (type) {\n      case 'link':\n        return '网盘链接: {link}\\n提取码: {password}\\n有效期: {expiry}';\n      case 'text':\n        return '内容: {content}\\n说明: {description}';\n      case 'file':\n        return '下载链接: {downloadUrl}\\n文件大小: {fileSize}\\n格式: {format}';\n      case 'account':\n        return '账号: {username}\\n密码: {password}\\n平台: {platform}\\n有效期: {expiry}';\n      default:\n        return '';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 xl:w-1/2 shadow-lg rounded-md bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: product ? '编辑商品' : '添加商品'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"\\u5546\\u54C1\\u540D\\u79F0 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                ...register('name'),\n                className: `w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.name ? 'border-red-500' : 'border-gray-300'}`,\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u5546\\u54C1\\u540D\\u79F0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.name.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"\\u5546\\u54C1\\u5206\\u7C7B *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                ...register('category'),\n                className: `w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.category ? 'border-red-500' : 'border-gray-300'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u8BF7\\u9009\\u62E9\\u5206\\u7C7B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: category,\n                  children: category\n                }, category, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), errors.category && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.category.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"\\u4EF7\\u683C (\\xA5) *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                ...register('price', {\n                  valueAsNumber: true\n                }),\n                className: `w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.price ? 'border-red-500' : 'border-gray-300'}`,\n                placeholder: \"0.00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), errors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.price.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"\\u5E93\\u5B58 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                ...register('stock', {\n                  valueAsNumber: true\n                }),\n                className: `w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.stock ? 'border-red-500' : 'border-gray-300'}`,\n                placeholder: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), errors.stock && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: errors.stock.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\u5546\\u54C1\\u63CF\\u8FF0 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              ...register('description'),\n              rows: 3,\n              className: `w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none ${errors.description ? 'border-red-500' : 'border-gray-300'}`,\n              placeholder: \"\\u8BF7\\u8F93\\u5165\\u5546\\u54C1\\u63CF\\u8FF0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.description.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\u53D1\\u8D27\\u7C7B\\u578B *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              ...register('deliveryType'),\n              className: `w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${errors.deliveryType ? 'border-red-500' : 'border-gray-300'}`,\n              onChange: e => {\n                const template = getDeliveryTemplate(e.target.value);\n                reset(prev => ({\n                  ...prev,\n                  deliveryTemplate: template\n                }));\n              },\n              children: deliveryTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: type.value,\n                children: type.label\n              }, type.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), errors.deliveryType && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.deliveryType.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\u53D1\\u8D27\\u6A21\\u677F *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              ...register('deliveryTemplate'),\n              rows: 4,\n              className: `w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono text-sm ${errors.deliveryTemplate ? 'border-red-500' : 'border-gray-300'}`,\n              placeholder: \"\\u8BF7\\u8F93\\u5165\\u53D1\\u8D27\\u6A21\\u677F\\uFF0C\\u4F7F\\u7528 {\\u53D8\\u91CF\\u540D} \\u683C\\u5F0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), errors.deliveryTemplate && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.deliveryTemplate.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-xs mt-1\",\n              children: [\"\\u4F7F\\u7528\\u5927\\u62EC\\u53F7\\u5305\\u56F4\\u53D8\\u91CF\\u540D\\uFF0C\\u5982\\uFF1A\", '{link}', \", \", '{password}', \" \\u7B49\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\u5546\\u54C1\\u6807\\u7B7E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2 mb-2\",\n              children: tags.map((tag, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",\n                children: [tag, /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleRemoveTag(tag),\n                  className: \"ml-1 text-blue-600 hover:text-blue-800\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: tagInput,\n                onChange: e => setTagInput(e.target.value),\n                onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), handleAddTag()),\n                className: \"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                placeholder: \"\\u8F93\\u5165\\u6807\\u7B7E\\u540E\\u6309\\u56DE\\u8F66\\u6216\\u70B9\\u51FB\\u6DFB\\u52A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleAddTag,\n                className: \"px-4 py-2 bg-gray-100 border border-l-0 border-gray-300 rounded-r-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: \"\\u6DFB\\u52A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 pt-6 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onClose,\n              className: \"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: \"\\u53D6\\u6D88\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\",\n              children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this), product ? '更新中...' : '创建中...']\n              }, void 0, true) : product ? '更新商品' : '创建商品'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductModal, \"PzxfejZwJ3DEz3d14gnKcZLlqCI=\", false, function () {\n  return [useForm];\n});\n_c = ProductModal;\nexport default ProductModal;\nvar _c;\n$RefreshReg$(_c, \"ProductModal\");","map":{"version":3,"names":["React","useState","useEffect","useForm","yupResolver","yup","toast","productAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","schema","object","name","string","required","description","category","price","number","positive","stock","integer","min","deliveryType","oneOf","deliveryTemplate","tags","array","of","ProductModal","product","onClose","onSave","_s","loading","setLoading","setTags","tagInput","setTagInput","categories","deliveryTypes","value","label","register","handleSubmit","formState","errors","reset","watch","resolver","defaultValues","handleAddTag","trim","includes","handleRemoveTag","tagToRemove","filter","tag","onSubmit","data","formData","response","updateProduct","_id","createProduct","success","error","message","_error$response","_error$response$data","getDeliveryTemplate","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","placeholder","map","step","valueAsNumber","rows","onChange","e","template","target","prev","index","onKeyPress","key","preventDefault","disabled","_c","$RefreshReg$"],"sources":["/Users/937bb/Documents/userProject/AutoPickup/admin-panel/src/components/ProductModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport toast from 'react-hot-toast';\nimport { productAPI } from '../services/api';\nimport { Product, ProductFormData } from '../types';\n\nconst schema = yup.object({\n  name: yup.string().required('请输入商品名称'),\n  description: yup.string().required('请输入商品描述'),\n  category: yup.string().required('请选择商品分类'),\n  price: yup.number().positive('价格必须大于0').required('请输入价格'),\n  stock: yup.number().integer('库存必须是整数').min(0, '库存不能小于0').required('请输入库存'),\n  deliveryType: yup.string().oneOf(['link', 'text', 'file', 'account']).required('请选择发货类型'),\n  deliveryTemplate: yup.string().required('请输入发货模板'),\n  tags: yup.array().of(yup.string()),\n});\n\ninterface ProductModalProps {\n  product?: Product | null;\n  onClose: () => void;\n  onSave: () => void;\n}\n\nconst ProductModal: React.FC<ProductModalProps> = ({ product, onClose, onSave }) => {\n  const [loading, setLoading] = useState(false);\n  const [tags, setTags] = useState<string[]>([]);\n  const [tagInput, setTagInput] = useState('');\n\n  const categories = ['影视资源', '教育资源', '软件工具', '游戏资源', '音乐资源', '其他'];\n  const deliveryTypes = [\n    { value: 'link', label: '网盘链接' },\n    { value: 'text', label: '文本内容' },\n    { value: 'file', label: '文件下载' },\n    { value: 'account', label: '账号密码' },\n  ];\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    watch,\n  } = useForm<ProductFormData>({\n    resolver: yupResolver(schema),\n    defaultValues: {\n      name: '',\n      description: '',\n      category: '',\n      price: 0,\n      stock: 0,\n      deliveryType: 'link',\n      deliveryTemplate: '',\n    },\n  });\n\n  const deliveryType = watch('deliveryType');\n\n  useEffect(() => {\n    if (product) {\n      reset({\n        name: product.name,\n        description: product.description,\n        category: product.category,\n        price: product.price,\n        stock: product.stock,\n        deliveryType: product.deliveryType,\n        deliveryTemplate: product.deliveryTemplate,\n      });\n      setTags(product.tags || []);\n    } else {\n      reset({\n        name: '',\n        description: '',\n        category: '',\n        price: 0,\n        stock: 0,\n        deliveryType: 'link',\n        deliveryTemplate: '',\n      });\n      setTags([]);\n    }\n  }, [product, reset]);\n\n  const handleAddTag = () => {\n    if (tagInput.trim() && !tags.includes(tagInput.trim())) {\n      setTags([...tags, tagInput.trim()]);\n      setTagInput('');\n    }\n  };\n\n  const handleRemoveTag = (tagToRemove: string) => {\n    setTags(tags.filter(tag => tag !== tagToRemove));\n  };\n\n  const onSubmit = async (data: ProductFormData) => {\n    setLoading(true);\n    try {\n      const formData = { ...data, tags };\n      \n      let response;\n      if (product) {\n        response = await productAPI.updateProduct(product._id, formData);\n      } else {\n        response = await productAPI.createProduct(formData);\n      }\n\n      if (response.success) {\n        toast.success(product ? '商品更新成功' : '商品创建成功');\n        onSave();\n      } else {\n        toast.error(response.message || '操作失败');\n      }\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || '操作失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getDeliveryTemplate = (type: string) => {\n    switch (type) {\n      case 'link':\n        return '网盘链接: {link}\\n提取码: {password}\\n有效期: {expiry}';\n      case 'text':\n        return '内容: {content}\\n说明: {description}';\n      case 'file':\n        return '下载链接: {downloadUrl}\\n文件大小: {fileSize}\\n格式: {format}';\n      case 'account':\n        return '账号: {username}\\n密码: {password}\\n平台: {platform}\\n有效期: {expiry}';\n      default:\n        return '';\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n      <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 xl:w-1/2 shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              {product ? '编辑商品' : '添加商品'}\n            </h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  商品名称 *\n                </label>\n                <input\n                  type=\"text\"\n                  {...register('name')}\n                  className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                    errors.name ? 'border-red-500' : 'border-gray-300'\n                  }`}\n                  placeholder=\"请输入商品名称\"\n                />\n                {errors.name && (\n                  <p className=\"text-red-500 text-sm mt-1\">{errors.name.message}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  商品分类 *\n                </label>\n                <select\n                  {...register('category')}\n                  className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                    errors.category ? 'border-red-500' : 'border-gray-300'\n                  }`}\n                >\n                  <option value=\"\">请选择分类</option>\n                  {categories.map(category => (\n                    <option key={category} value={category}>{category}</option>\n                  ))}\n                </select>\n                {errors.category && (\n                  <p className=\"text-red-500 text-sm mt-1\">{errors.category.message}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  价格 (¥) *\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...register('price', { valueAsNumber: true })}\n                  className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                    errors.price ? 'border-red-500' : 'border-gray-300'\n                  }`}\n                  placeholder=\"0.00\"\n                />\n                {errors.price && (\n                  <p className=\"text-red-500 text-sm mt-1\">{errors.price.message}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  库存 *\n                </label>\n                <input\n                  type=\"number\"\n                  {...register('stock', { valueAsNumber: true })}\n                  className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                    errors.stock ? 'border-red-500' : 'border-gray-300'\n                  }`}\n                  placeholder=\"0\"\n                />\n                {errors.stock && (\n                  <p className=\"text-red-500 text-sm mt-1\">{errors.stock.message}</p>\n                )}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                商品描述 *\n              </label>\n              <textarea\n                {...register('description')}\n                rows={3}\n                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none ${\n                  errors.description ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"请输入商品描述\"\n              />\n              {errors.description && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.description.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                发货类型 *\n              </label>\n              <select\n                {...register('deliveryType')}\n                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                  errors.deliveryType ? 'border-red-500' : 'border-gray-300'\n                }`}\n                onChange={(e) => {\n                  const template = getDeliveryTemplate(e.target.value);\n                  reset(prev => ({ ...prev, deliveryTemplate: template }));\n                }}\n              >\n                {deliveryTypes.map(type => (\n                  <option key={type.value} value={type.value}>{type.label}</option>\n                ))}\n              </select>\n              {errors.deliveryType && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.deliveryType.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                发货模板 *\n              </label>\n              <textarea\n                {...register('deliveryTemplate')}\n                rows={4}\n                className={`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono text-sm ${\n                  errors.deliveryTemplate ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"请输入发货模板，使用 {变量名} 格式\"\n              />\n              {errors.deliveryTemplate && (\n                <p className=\"text-red-500 text-sm mt-1\">{errors.deliveryTemplate.message}</p>\n              )}\n              <p className=\"text-gray-500 text-xs mt-1\">\n                使用大括号包围变量名，如：{'{link}'}, {'{password}'} 等\n              </p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                商品标签\n              </label>\n              <div className=\"flex flex-wrap gap-2 mb-2\">\n                {tags.map((tag, index) => (\n                  <span\n                    key={index}\n                    className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n                  >\n                    {tag}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleRemoveTag(tag)}\n                      className=\"ml-1 text-blue-600 hover:text-blue-800\"\n                    >\n                      ×\n                    </button>\n                  </span>\n                ))}\n              </div>\n              <div className=\"flex\">\n                <input\n                  type=\"text\"\n                  value={tagInput}\n                  onChange={(e) => setTagInput(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTag())}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"输入标签后按回车或点击添加\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={handleAddTag}\n                  className=\"px-4 py-2 bg-gray-100 border border-l-0 border-gray-300 rounded-r-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  添加\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-6 border-t\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                取消\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\n              >\n                {loading ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    {product ? '更新中...' : '创建中...'}\n                  </>\n                ) : (\n                  product ? '更新商品' : '创建商品'\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}